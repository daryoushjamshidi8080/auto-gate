{% extends 'base.html' %}

{% block title %}
خودرو ها
{% endblock title %}

{% block content %}

<div class="">
    <div class="car_list" id="carList">
    </div>
</div>



{% endblock content %}


{% block js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const carListDev = document.getElementById('carList');

        function loadCarList() {
            fetch("{% url 'tag:tag-list' %}")
            .then(res => res.json())
            .then(data => {
                carListDev.innerHTML = data.html;
            }).catch(err => {
                carListDev.innerHTML = "<p>❌ خطا در بارگذاری لیست خودروها</p>";
                console.error("Error loading car list:", err);
            })
        }
        loadCarList()
    });

    
</script>    
{% endblock js %}